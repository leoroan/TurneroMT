(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const i="http://localhost:8081/api/servicios/",a="http://localhost:8081/api/turnos/";async function l(){try{const t=await(await fetch(i)).json(),n=document.getElementById("servicios");t.forEach(o=>{const e=document.createElement("button");e.classList.add("button-54","btn","btn-success","m-3","shadow-lg","btn-lg","p-5","w-25","fs-1"),e.textContent=o.nombre,e.onclick=()=>{u(o.id)},n.appendChild(e)})}catch(s){console.error("Error al cargar los servicios:",s)}}async function u(s){try{const t={servicioId:s},n=await fetch(`${a}${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){const o=await n.json();console.log(o),alert(`Su turno es: ${o.servicio}, NÂ° ${o.dataValues.numeroTurno}, Fecha: ${o.dataValues.fecha}`)}else alert("Error al crear el turno")}catch(t){console.error("Error al crear el turno: ",t),alert("Hubo un error al crear el turno")}}window.onload=l;
